/*
 * Copyright (c) 2015 by Greg Reimer <gregreimer@gmail.com>
 * All Rights Reserved.
 */

module.exports = class {

  constructor(turtle) {
    turtle._copyPropsTo(this)
    this._state = { color: '#000' }
    var ctx = this._fieldContext
    ctx.fillStyle = this._state.color
    ctx.fillRect(0, 0, this._grid.width, this._grid.height)
  }

  color(color) {
    let state = this._state
    if (arguments.length === 0) {
      return state.color
    } else {
      let seq = this._sequencer
        , ctx = this._fieldContext
        , grid = this._grid
      return seq.run(function() {
        ctx.fillStyle = state.color = color
        ctx.fillRect(0, 0, grid.width, grid.height)
      }, this)
    }
  }

  width() {
    return this._grid.width
  }

  height() {
    return this._grid.height
  }
}
