/*
 * Copyright (c) 2015 by Greg Reimer <gregreimer@gmail.com>
 * All Rights Reserved.
 */

require('babel/polyfill')

var Turtle = require('jtg/models/turtle')
  , co = require('co')
  , fieldCanvas = document.querySelector('#field')
  , drawCanvas = document.querySelector('#draw')
  , turtleCanvas = document.querySelector('#turtle')

var t = window.t = new Turtle({
  fieldCanvas: fieldCanvas,
  drawCanvas: drawCanvas,
  turtleCanvas: turtleCanvas
})

co(function*(){
  var color = '#fff'
    , cover = 'rgba(0,0,0,0.025)'
  t.pen.weight(2)
  for (var i=0; i<1000000; i++) {
    if (t.oob()) {
      yield t.pen.up()
      yield t.xy(0, 0)
      yield t.pen.down()
    }
    t.pen.color(color)
    yield t.fd(4)
    t.rt(2 + t.rand.norm(0, .5))
    t.pen.color(cover)
    t.flood()
  }
})

