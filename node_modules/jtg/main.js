/*
 * Copyright (c) 2015 by Greg Reimer <gregreimer@gmail.com>
 * All Rights Reserved.
 */

// this is the entry point...

require('babel/polyfill') // needed to allow generators

var Turtle = require('jtg/models/turtle')
  , fieldCanvas = document.querySelector('#field')
  , drawCanvas = document.querySelector('#draw')
  , turtleCanvas = document.querySelector('#turtle')

var t = window.t = new Turtle({
  fieldCanvas: fieldCanvas,
  drawCanvas: drawCanvas,
  turtleCanvas: turtleCanvas
})

Turtle.run(function *() {

  var n = 1
  yield t.pen.color('rgba(255,255,255,0.1)')
  for (var i=0; i<100000; i++) {
    if (i % 100 === 0){
      yield t.pen.color('rgba(0,0,0,0.1)')
      yield t.pen.flood()
      yield t.pen.color('rgba(255,255,255,0.1)')
    }
    var len1 = t.rand.uni(300 - n, 300 + n)
    yield t.fd(len1)
    var len2 = t.rand.uni(300 - n, 300 + n)
    yield t.bk(len2)
    yield t.rt(.1)
  }
})

